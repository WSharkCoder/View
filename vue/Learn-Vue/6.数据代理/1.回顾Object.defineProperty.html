<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>回顾Object.defineProperty</title>
</head>

<body>
  <!-- 
    JS 中Object.defineProperty 其主要作用是对对象定义属性或添加属性。
    用法:    
    Object.defineProperty(对象，属性名,配置项)
  -->
  <script>
    let number = 19
    let p1 = {
      name: "张三",
      sex: '男'
    }
    let person = {
      name: "张三",
      sex: '男'
    }
    // 最简单用法:
    Object.defineProperty(p1, 'age', {
      value: 18
    })
    // 注意：age属性不可被枚举
    console.log(Object.keys(p1)) // ['name', 'sex']


    Object.defineProperty(person, 'age', {
      value: 18,
      enumerable: true, //控制属性是否可以枚举      默认值false 
      writable: true, //控制属性是否可以修改        默认值false
      configurable: true, //控制属性是否可以被删除  默认false

      // 当有人读取person属性age时，get函数(getter)就会被调用。且返回值就是age的值
      get() {
        return number
      },
      //当有人修改 person属性age时，set函数(setter)就会被调用。(person.age属性与number绑定)
      set(value) {
        number = value
      }
    })
    console.log(person)
  </script>

</body>

</html>